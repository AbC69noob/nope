<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="boundary-container">
        <h1>Happy Valentine's Day!</h1>
        <p>Will you be my Valentine?</p>
        <div class="actions">
            <button id="yesBtn" onclick="option1()">Yes</button>
            <button id="noBtn" class="no-btn" onclick="option2()">No</button>
        </div>
        <p id="loveMsg" class="message" aria-live="polite"></p>
    </div>

    <script>
        const noBtn = document.getElementById("noBtn");
        const yesBtn = document.getElementById("yesBtn");
        const loveMsg = document.getElementById("loveMsg");
        const actions = document.querySelector(".actions");
        const boundary = document.querySelector(".boundary-container");
        const isWindows = navigator.userAgent.includes("Windows");

        function option2() {
            const padding = 10;
            const btnWidth = noBtn.offsetWidth;
            const btnHeight = noBtn.offsetHeight;

            // Get boundary dimensions
            const boundaryRect = boundary.getBoundingClientRect();
            const boundaryWidth = boundaryRect.width;
            const boundaryHeight = boundaryRect.height;
            const boundaryLeft = boundaryRect.left;
            const boundaryTop = boundaryRect.top;

            // Calculate random position within boundary
            const minX = boundaryLeft + padding;
            const minY = boundaryTop + padding;
            const maxX = boundaryLeft + boundaryWidth - btnWidth - padding;
            const maxY = boundaryTop + boundaryHeight - btnHeight - padding;
            const nextX = minX + Math.random() * (maxX - minX);
            const nextY = minY + Math.random() * (maxY - minY);

            noBtn.style.position = "fixed";
            noBtn.style.left = `${nextX}px`;
            noBtn.style.top = `${nextY}px`;
            noBtn.style.margin = "0";
            yesBtn.classList.add("bigger");
        }

        function option1() {
            loveMsg.textContent = "I love you soo much!";
            loveMsg.classList.add("show");
            noBtn.disabled = true;
            actions.classList.add("hide");
            yesBtn.classList.remove("bigger");
        }

        if (isWindows) {
            noBtn.addEventListener("mouseenter", option2);
        }
        noBtn.addEventListener("touchstart", option2, { passive: true });
    </script>
</body>

</html>